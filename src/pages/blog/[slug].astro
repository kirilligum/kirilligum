---
import { type CollectionEntry } from 'astro:content';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const blogPosts = await getCollection('blog');
  return blogPosts.map(post => ({
    params: { slug: post.slug },
    props: { post },
  }));
}

interface Props {
  post: CollectionEntry<'blog'>;
}
const { post } = Astro.props;
const { Content } = await post.render();
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg?v=2" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet">
		<meta name="viewport" content="width=device-width" />
		<meta name="description" content="Blog post page" />
		<title>{post.data.title}</title>
        <style>
			body {
				font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
				background-color: #fff; /* Light gray background */
				color: #222; /* Dark text for contrast */
				margin: 2rem 1rem;
			}
			header {
				font-family: monospace;
				margin-bottom: 1.5rem; /* Reduced space */
			}
			h1 {
				font-family: 'Questrial', monospace;
				font-weight: bold;
				line-height: 1.1;
				margin-bottom: 1rem;
			}
			header > h1 {
				margin: 0;
				font-size: 1.2rem;
			}
			header a {
				text-decoration: none;
			}
			header a:hover {
				text-decoration: underline;
			}
			article :global(h2),
			article :global(h3),
			article :global(h4),
			article :global(h5),
			article :global(h6) {
				font-family: 'Questrial', monospace;
				font-weight: bold;
				line-height: 1.1;
				margin-bottom: 1rem;
				border: 3px solid #222;
				display: inline-block;
				background-color: #f0f0f0;
			}
			article :global(h2) {
				font-size: 1.5em;
				padding: 0.5rem 1rem;
				box-shadow: 25px 25px 0px #222;
			}
			article :global(h3) {
				font-size: 1.25em;
				padding: 0.4rem 0.8rem;
				box-shadow: 20px 20px 0px #222;
			}
			article :global(h4) {
				font-size: 1.1em;
				padding: 0.3rem 0.6rem;
				box-shadow: 15px 15px 0px #222;
			}
			article :global(h5) {
				font-size: 1em;
				padding: 0.2rem 0.5rem;
				box-shadow: 10px 10px 0px #222;
			}
			article :global(h6) {
				font-size: 0.9em;
				padding: 0.1rem 0.4rem;
				box-shadow: 5px 5px 0px #222;
			}
			section {
				margin-bottom: 2rem;
			}
			a {
				color: #007bff; /* Example link color */
				text-decoration: none;
			}
			a:hover {
				text-decoration: underline;
			}
            article {
            }
            article :global(img) {
                max-width: 100%;
                height: auto;
                display: block;
            }
            :global(.comparison-table table tr:nth-child(even)) {
                background-color: rgba(128, 128, 128, 0.07);
            }
        </style>
	</head>
	<body>
		<header>
			<h1><a href="/">üè†</a> / Blog</h1>
		</header>
		<section>
            <article>
                <h2>{post.data.title}</h2>
                <p style="font-size: 0.8em; color: #777;">
                    Author: Kirill Igumenshchev<br/>
                    Published: {post.data.date.toLocaleDateString()}
                    {post.data.updatedDate && ` | Updated: ${post.data.updatedDate.toLocaleDateString()}`}
                </p>
                <Content />
            </article>
 		</section>
 	</body>
 </html>
